<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title> NAR Dependencies - FreeHEP Native Archive (NAR) Plugin</title><style type="text/css" media="all">
          @import url("./style/maven-base.css");
          
          @import url("./style/maven-theme.css");</style><link rel="stylesheet" href="./style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="Mark Donszelmann"></meta><meta name="email" content="Mark.Donszelmann@slac.stanford.edu"></meta></head><body class="composite"><div id="banner"><a href="http://java.freehep.org/" id="organizationLogo"><img alt="FreeHEP" src="http://www.freehep.org/images/sm-freehep.gif"></img></a><a href="http://java.freehep.org/freehep-nar-plugin/index.html" id="projectLogo"><img alt="Native Archive Plug-in" src="http://java.freehep.org/freehep-nar-plugin/logo.gif"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft">Last published: October 17, 2005 10:33:53 AM PDT
                <span class="separator">|</span>Doc for  1.0
                </div><div class="xright">
        
        <a href="http://java.freehep.org/" class="newWindow" title="New Window" target="_blank">FreeHEP</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://maven.apache.org/" class="newWindow" title="New Window" target="_blank">Maven</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://ant-contrib.sourceforge.net/" class="newWindow" title="New Window" target="_blank">ant-contrib</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menuNAR_Plugin"><h5>NAR Plugin</h5><ul><li class="none"><a href="index.html">Overview</a></li><li class="none"><a href="team-list.html">Project Team</a></li><li class="none"><a href="downloads.html">Download</a></li><li class="none"><a href="SourceRepository.html">Source Code</a></li><li class="none"><a href="dependencies.html">Dependencies</a></li><li class="none"><a href="http://forum.freehep.org/index.php?t=thread&amp;frm_id=14&amp;rid=4" class="newWindow" title="New Window" target="_blank">Forum</a></li><li class="none"><a href="http://bugs.freehep.org/secure/BrowseProject.jspa?id=10120" class="newWindow" title="New Window" target="_blank">Bug Database</a></li></ul></div><div id="menuUser_Documentation"><h5>User Documentation</h5><ul><li class="none"><a href="goals.html">Goals</a></li><li class="none"><a href="properties.html">Properties</a></li><li class="none"><strong><a href="nar-dependencies.html">NAR Dependencies</a></strong></li><li class="none"><a href="cpptasks.html">CPPTasks</a></li></ul></div><div id="legend"><h5>Legend</h5><ul><li class="externalLink">External Link</li><li class="newWindow">Opens in a new window</li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="./images/logos/maven-button-1.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Dependencies_on_other_NARs"></a><h2>Dependencies on other NARs</h2>
            <p>
                Dependencies on other NARs are handled by the maven dependency mechanism.
                
                The type for NAR files is <code>nar</code>. A NAR dependency is specified
                in the following way:
            </p>
        
            
    <div class="source"><pre>
&lt;dependency&gt;
    &lt;groupId&gt;DependentGroup&lt;/groupId&gt;
    &lt;artifactId&gt;DependentArtifact<b>-nar</b>&lt;/artifactId&gt;
    &lt;version&gt;DependentVersion&lt;/version&gt;
    &lt;type&gt;<b>nar</b>&lt;/type&gt;
&lt;/dependency&gt;
            </pre></div>
  
        
            <p>
                The artifactId needs to specify a <code><b>-nar</b></code> suffix since artifactIds need to be unique
                and a jar file may exist with the same name.
            </p>
            
            <p>
                When a nar dependency is found in the POM, Maven will download the property file :
            </p>
            
    <div class="source"><pre>
<i>DependentGroup</i>/<b>nar</b>s/<i>DependentArtifact</i><b>-nar</b>-<i>DependentVersion</i>.<b>nar</b>
            </pre></div>
  
            <p>            
                This file is normally generated by the NAR plugin for the DependentArtifact and 
                may specify the following properties:
            </p>
            
            <table class="bodyTable">
                <tr class="b">
                    <th>Property</th>
                    <th>Description</th>
                    <th>Default Value</th>
                </tr>
    
                <tr class="a">
                    <td>freehep.nar.nars</td>
                    <td>Space separated list of other nar files to download.
                    </td>
                    <td>
                        <code><i>DependentArtifact</i><b>-nar</b>-<i>DependentVersion</i>.<b>noarch.nar</b> 
                              <i>DependentArtifact</i><b>-nar</b>-<i>DependentVersion</i>.<b>${aol}.nar</b></code>
                    </td>
                </tr>
            </table>        
            <p>
                The default files specified for download will have the common and machine-os specific parts in them
                respectively.
            </p>
    
            <p>
                The NAR plugin will look in the project.properties file followed by the 
                <i>DependentArtifact</i><b>-nar</b>-<i>DependentVersion</i>.<b>nar</b> file for any of the 
                following properties:
            </p>   
            <table class="bodyTable">
                <tr class="b">
                    <th>Property</th>
                    <th>Description</th>
                    <th>Default Value</th>
                </tr>
    
                <tr class="a">
                    <td>[<i>arch.</i>[<i>os.</i>[<i>linker.</i>]<i>DependentArtifact</i>-nar.local</td>
                    <td>Specifies that the DependentArtifact is installed locally (in a different place than the local
                    repository. The property <code>freehep.nar.nars</code> will be ignored.
                    One would typically use this for standard libs such as zlib and others.</td>
                    <td>false</td>
                </tr>
                
                <tr class="b">
                    <td>[<i>arch.</i>[<i>os.</i>[<i>linker.</i>]<i>DependentArtifact</i>-nar.dir</td>
                    <td>Specify a local directory where the DependentArtifact libs can be found.</td>
                    <td></td>
                </tr>
                
                <tr class="a">
                    <td>[<i>arch.</i>[<i>os.</i>[<i>linker.</i>]<i>DependentArtifact</i>-nar.include</td>
                    <td>Specify a local directory where the DependentArtifact includes can be found.</td>
                    <td></td>
                </tr>
                
                <tr class="b">
                    <td>[<i>arch.</i>[<i>os.</i>[<i>linker.</i>]<i>DependentArtifact</i>-nar.libs</td>
                    <td>Specify the libs to use for linking</td>
                    <td><code>${DependentArtifact}-nar-${DependentVersion}</code></td>
                </tr>
                
                <tr class="a">
                    <td>[<i>arch.</i>[<i>os.</i>[<i>linker.</i>]<i>DependentArtifact</i>-nar.local.libs</td>
                    <td>Specify the libs to use for linking if the libs are local</td>
                    <td><code>${DependentArtifact}-nar.libs</code></td>
                </tr>
                
                <tr class="b">
                    <td>[<i>arch.</i>[<i>os.</i>[<i>linker.</i>]<i>DependentArtifact</i>-nar.type</td>
                    <td>Specify the type of linking</td>
                    <td><code>${freehep.nar.libs.type}</code></td>
                </tr>
                               
                <tr class="a">
                    <td>[<i>arch.</i>[<i>os.</i>[<i>linker.</i>]<i>DependentArtifact</i>-nar.linkLibs</td>
                    <td>Specify if libraries should be linked with (there are distributions with only include files).</td>
                    <td>true</td>
                </tr>
                
                <tr class="b">
                    <td><i>DependentArtifact</i>-nar.<i>AOL</i></td>
                    <td>Converts one AOL into another. For example: YourLib-nar.i386-Linux-g++=i386-Linux-gcc will 
                    make sure you can link from g++ as well as from gcc to YourLib. YourLib needs to be dsitributed
                    as a gcc linked lib in this case.</td>
                    <td>${freehep.nar.aol.name}</td>
                </tr>
                
            </table>        
        
            <p>
            If the property <i>DependentArtifact</i>-nar.local is set to true, then no further files will be 
            downloaded or installed and the properties <i>DependentArtifact</i>-nar.dir and 
            <i>DependentArtifact</i>-nar.include will be used for compilation and linking with this <i>DependentArtifact</i>. 
            In the other case the files specified by freehep.nar.nars will be downloaded, installed in 
            the local repository, unpacked and used for compilation and linking. 
            Setting <i>DependentArtifact</i>-nar.local allows the user to avoid downloading a library 
            which is already installed as a non-NAR file somewhere else on his machine.
            The other properties are used in both the local and the NAR case.
            </p>
            <p>
            When generating a set of NAR files, the <i>Artifact</i>-nar-<i>Version</i>.nar file will be generated
            for you. This file may contain any of the properties listed above. The NAR plugin generates the 
            properties freehep.nar.nars and <i>Artifact</i>-nar.linkLibs. Any other properties can be specified
            in the nar.properties file in the artifact's top directory (alongside project.properties) and will
            be concatenated to the generated nar file.
            </p>
        </div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2000-2005, FreeHEP</div><div class="clear"><hr></hr></div></div></body></html>